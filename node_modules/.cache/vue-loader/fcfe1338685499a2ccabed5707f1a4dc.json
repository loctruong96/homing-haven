{"remainingRequest":"C:\\Users\\kidab\\csci\\homing-haven\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\kidab\\csci\\homing-haven\\src\\components\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\kidab\\csci\\homing-haven\\src\\components\\Dashboard.vue","mtime":1583978841060},{"path":"C:\\Users\\kidab\\csci\\homing-haven\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kidab\\csci\\homing-haven\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCmNvbnN0IGZiID0gcmVxdWlyZSgnLi4vZmlyZWJhc2VDb25maWcuanMnKQppbXBvcnQgeyBWdWVwZXJTbGlkZXMsIFZ1ZXBlclNsaWRlIH0gZnJvbSAndnVlcGVyc2xpZGVzJwppbXBvcnQgJ3Z1ZXBlcnNsaWRlcy9kaXN0L3Z1ZXBlcnNsaWRlcy5jc3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBiZWZvcmVDcmVhdGUoKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2ZldGNoUG9wdWxhckNvbW11bml0aWVzJyk7CiAgICB9LAogICAgYmVmb3JlVXBkYXRlKCkgewogICAgICAgIGlmKHRoaXMuc2xpZGVzLmxlbmd0aCA8IDUgJiYgIXRoaXMubG9va2VkKXsKICAgICAgICAgICAgZm9yKGxldCBpID0wOyBpIDwgIHRoaXMucG9wdWxhckNvbW11bml0aWVzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgY29uc3QgY29tbXVuaXR5ID0ge307CiAgICAgICAgICAgICAgICBjb21tdW5pdHkudGl0bGUgPSB0aGlzLnBvcHVsYXJDb21tdW5pdGllc1tpXS5uYW1lOwogICAgICAgICAgICAgICAgY29tbXVuaXR5LmxpbmsgPSB0aGlzLnBvcHVsYXJDb21tdW5pdGllc1tpXS5saW5rOwogICAgICAgICAgICAgICAgY29tbXVuaXR5LmRlc2NyaXB0aW9uID0gdGhpcy5wb3B1bGFyQ29tbXVuaXRpZXNbaV0uZGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlcy5wdXNoKGNvbW11bml0eSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5sb29rZWQ9IHRydWU7CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwb3N0OiB7CiAgICAgICAgICAgICAgICBjb250ZW50OiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICBzbGlkZXM6IFtdLAogICAgICAgICAgICBjb21tZW50OiB7CiAgICAgICAgICAgICAgICBwb3N0SWQ6ICcnLAogICAgICAgICAgICAgICAgdXNlcklkOiAnJywKICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgICAgICAgICAgcG9zdENvbW1lbnRzOiAwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3dDb21tZW50TW9kYWw6IGZhbHNlLAogICAgICAgICAgICBzaG93UG9zdE1vZGFsOiBmYWxzZSwKICAgICAgICAgICAgZnVsbFBvc3Q6IHt9LAogICAgICAgICAgICBwb3N0Q29tbWVudHM6IFtdLAogICAgICAgICAgICBsb29rZWQ6IGZhbHNlLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7IFZ1ZXBlclNsaWRlcywgVnVlcGVyU2xpZGUgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoWyd1c2VyUHJvZmlsZScsICdjdXJyZW50VXNlcicsICdwb3N0cycsICdoaWRkZW5Qb3N0cycsICdwb3B1bGFyQ29tbXVuaXRpZXMnXSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgbmF2aWdhdGVUb0NvbW11bml0eShsaW5rKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvY29tbXVuaXR5LyR7bGlua31gKQogICAgICAgIH0sCiAgICAgICAgcmVnaXN0ZXIoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVnaXN0cmF0aW9uJykKICAgICAgICB9LAogICAgICAgIGNyZWF0ZVBvc3QoKSB7CiAgICAgICAgICAgIGZiLnBvc3RzQ29sbGVjdGlvbi5hZGQoewogICAgICAgICAgICAgICAgY3JlYXRlZE9uOiBuZXcgRGF0ZSgpLAogICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5wb3N0LmNvbnRlbnQsCiAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMuY3VycmVudFVzZXIudWlkLAogICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMudXNlclByb2ZpbGUubmFtZSwKICAgICAgICAgICAgICAgIGNvbW1lbnRzOiAwLAogICAgICAgICAgICAgICAgbGlrZXM6IDAKICAgICAgICAgICAgfSkudGhlbihyZWYgPT4gewogICAgICAgICAgICAgICAgdGhpcy5wb3N0LmNvbnRlbnQgPSAnJwogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2hvd05ld1Bvc3RzKCkgewogICAgICAgICAgICBsZXQgdXBkYXRlZFBvc3RzQXJyYXkgPSB0aGlzLmhpZGRlblBvc3RzLmNvbmNhdCh0aGlzLnBvc3RzKQogICAgICAgICAgICAvLyBjbGVhciBoaWRkZW5Qb3N0cyBhcnJheSBhbmQgdXBkYXRlIHBvc3RzIGFycmF5CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SGlkZGVuUG9zdHMnLCBudWxsKQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFBvc3RzJywgdXBkYXRlZFBvc3RzQXJyYXkpCiAgICAgICAgfSwKICAgICAgICBvcGVuQ29tbWVudE1vZGFsKHBvc3QpIHsKICAgICAgICAgICAgdGhpcy5jb21tZW50LnBvc3RJZCA9IHBvc3QuaWQKICAgICAgICAgICAgdGhpcy5jb21tZW50LnVzZXJJZCA9IHBvc3QudXNlcklkCiAgICAgICAgICAgIHRoaXMuY29tbWVudC5wb3N0Q29tbWVudHMgPSBwb3N0LmNvbW1lbnRzCiAgICAgICAgICAgIHRoaXMuc2hvd0NvbW1lbnRNb2RhbCA9IHRydWUKICAgICAgICB9LAogICAgICAgIGNsb3NlQ29tbWVudE1vZGFsKCkgewogICAgICAgICAgICB0aGlzLmNvbW1lbnQucG9zdElkID0gJycKICAgICAgICAgICAgdGhpcy5jb21tZW50LnVzZXJJZCA9ICcnCiAgICAgICAgICAgIHRoaXMuY29tbWVudC5jb250ZW50ID0gJycKICAgICAgICAgICAgdGhpcy5zaG93Q29tbWVudE1vZGFsID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIGFkZENvbW1lbnQoKSB7CiAgICAgICAgICAgIGxldCBwb3N0SWQgPSB0aGlzLmNvbW1lbnQucG9zdElkCiAgICAgICAgICAgIGxldCBwb3N0Q29tbWVudHMgPSB0aGlzLmNvbW1lbnQucG9zdENvbW1lbnRzCgogICAgICAgICAgICBmYi5jb21tZW50c0NvbGxlY3Rpb24uYWRkKHsKICAgICAgICAgICAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKSwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29tbWVudC5jb250ZW50LAogICAgICAgICAgICAgICAgcG9zdElkOiBwb3N0SWQsCiAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMuY3VycmVudFVzZXIudWlkLAogICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMudXNlclByb2ZpbGUubmFtZQogICAgICAgICAgICB9KS50aGVuKGRvYyA9PiB7CiAgICAgICAgICAgICAgICBmYi5wb3N0c0NvbGxlY3Rpb24uZG9jKHBvc3RJZCkudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICBjb21tZW50czogcG9zdENvbW1lbnRzICsgMQogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUNvbW1lbnRNb2RhbCgpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgbGlrZVBvc3QocG9zdElkLCBwb3N0TGlrZXMpIHsKICAgICAgICAgICAgbGV0IGRvY0lkID0gYCR7dGhpcy5jdXJyZW50VXNlci51aWR9XyR7cG9zdElkfWAKCiAgICAgICAgICAgIGZiLmxpa2VzQ29sbGVjdGlvbi5kb2MoZG9jSWQpLmdldCgpLnRoZW4oZG9jID0+IHsKICAgICAgICAgICAgICAgIGlmIChkb2MuZXhpc3RzKSB7IHJldHVybiB9CgogICAgICAgICAgICAgICAgZmIubGlrZXNDb2xsZWN0aW9uLmRvYyhkb2NJZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgICBwb3N0SWQ6IHBvc3RJZCwKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMuY3VycmVudFVzZXIudWlkCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zdCBsaWtlcwogICAgICAgICAgICAgICAgICAgIGZiLnBvc3RzQ29sbGVjdGlvbi5kb2MocG9zdElkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICAgICAgICBsaWtlczogcG9zdExpa2VzICsgMQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgdmlld1Bvc3QocG9zdCkgewogICAgICAgICAgICBmYi5jb21tZW50c0NvbGxlY3Rpb24ud2hlcmUoJ3Bvc3RJZCcsICc9PScsIHBvc3QuaWQpLmdldCgpLnRoZW4oZG9jcyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgY29tbWVudHNBcnJheSA9IFtdCgogICAgICAgICAgICAgICAgZG9jcy5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnQgPSBkb2MuZGF0YSgpCiAgICAgICAgICAgICAgICAgICAgY29tbWVudC5pZCA9IGRvYy5pZAogICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzQXJyYXkucHVzaChjb21tZW50KQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB0aGlzLnBvc3RDb21tZW50cyA9IGNvbW1lbnRzQXJyYXkKICAgICAgICAgICAgICAgIHRoaXMuZnVsbFBvc3QgPSBwb3N0CiAgICAgICAgICAgICAgICB0aGlzLnNob3dQb3N0TW9kYWwgPSB0cnVlCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbG9zZVBvc3RNb2RhbCgpIHsKICAgICAgICAgICAgdGhpcy5wb3N0Q29tbWVudHMgPSBbXQogICAgICAgICAgICB0aGlzLnNob3dQb3N0TW9kYWwgPSBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJzOiB7CiAgICAgICAgZm9ybWF0RGF0ZSh2YWwpIHsKICAgICAgICAgICAgaWYgKCF2YWwpIHsgcmV0dXJuICctJyB9CiAgICAgICAgICAgIGxldCBkYXRlID0gdmFsLnRvRGF0ZSgpCiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZnJvbU5vdygpCiAgICAgICAgfSwKICAgICAgICB0cmltTGVuZ3RoKHZhbCkgewogICAgICAgICAgICBpZiAodmFsLmxlbmd0aCA8IDIwMCkgeyByZXR1cm4gdmFsIH0KICAgICAgICAgICAgcmV0dXJuIGAke3ZhbC5zdWJzdHJpbmcoMCwgMjAwKX0uLi5gCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"dashboard\">\r\n        <transition name=\"fade\">\r\n            <div v-if=\"!looked\" class=\"loading\">\r\n                <p>Loading..</p>\r\n            </div>\r\n        </transition>\r\n<!--        <div class=\"banner\">-->\r\n<!--            -->\r\n<!--        </div>-->\r\n            <div class=\"banner\">\r\n                <div class=\"bannerStuff\">\r\n                    <h1>Welcome to HomingHaven!!</h1>\r\n                    <p>Checkout local communities, or resources like scholarships, food, legal help, etc... </p>\r\n                    <button @click=\"register\"  class=\"button\">Get Started</button>\r\n                </div>\r\n            </div>\r\n            <div class=\"line\"></div>\r\n<!--            <div class=\"filter\">-->\r\n<!--                <ul>-->\r\n<!--                    <li>-->\r\n<!--                        <h1>-->\r\n<!--                            Need help finding a community to join??-->\r\n<!--                        </h1>-->\r\n<!--                    </li>-->\r\n<!--                    <li>-->\r\n<!--                        <button @click=\"\"  class=\"button\">Click Here!</button>-->\r\n<!--                    </li>-->\r\n<!--                </ul>-->\r\n<!--            </div>-->\r\n            <br>\r\n            <h1 style=\"margin-left: 2%; color:#3D4381\">Popular Communities</h1>\r\n            <div v-if=\"popularCommunities && looked\">\r\n                <vueper-slides\r\n                        class=\"no-shadow\"\r\n                        :slide-ratio=\"1 / 8\"\r\n                               :visible-slides=\"3\"\r\n                               :arrows=\"false\"\r\n                               :gap=\"3\"\r\n                               :dragging-distance=\"200\"\r\n                               :breakpoints=\"{ 1200: { slideRatio: 1 / 5 },800: { visibleSlides: 2, slideMultiple: 2, slideRatio:1/3 }, 600: { visibleSlides: 1, slideMultiple: 2, slideRatio:1/2 } }\">\r\n                    <vueper-slide\r\n                            v-for=\"(slide, i) in slides\"\r\n                            :key=\"i\"\r\n                            :style=\"'background-color: ' + ['#C3C7E7', '#C3C7E7'][i % 2]\">\r\n                        <template v-slot:content>\r\n                            <div class=\"vueperslide__content-wrapper\" style=\"font-size: 1.3em; text-decoration-color: #007EFC\">\r\n                                <p><span>{{ slide.title }}<br>{{slide.description}}<br><button class=\"button\" v-on:click=\"navigateToCommunity(slide.link)\">View</button></span></p>\r\n                            </div>\r\n                        </template>\r\n                    </vueper-slide>\r\n                </vueper-slides>\r\n\r\n            </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n    import moment from 'moment'\r\n    const fb = require('../firebaseConfig.js')\r\n    import { VueperSlides, VueperSlide } from 'vueperslides'\r\n    import 'vueperslides/dist/vueperslides.css'\r\n\r\n    export default {\r\n        beforeCreate() {\r\n            this.$store.dispatch('fetchPopularCommunities');\r\n        },\r\n        beforeUpdate() {\r\n            if(this.slides.length < 5 && !this.looked){\r\n                for(let i =0; i <  this.popularCommunities.length;i++){\r\n                    const community = {};\r\n                    community.title = this.popularCommunities[i].name;\r\n                    community.link = this.popularCommunities[i].link;\r\n                    community.description = this.popularCommunities[i].description;\r\n                    this.slides.push(community);\r\n                }\r\n            }\r\n            this.looked= true;\r\n        },\r\n        data() {\r\n            return {\r\n                post: {\r\n                    content: ''\r\n                },\r\n                slides: [],\r\n                comment: {\r\n                    postId: '',\r\n                    userId: '',\r\n                    content: '',\r\n                    postComments: 0\r\n                },\r\n                showCommentModal: false,\r\n                showPostModal: false,\r\n                fullPost: {},\r\n                postComments: [],\r\n                looked: false,\r\n            }\r\n        },\r\n        components: { VueperSlides, VueperSlide },\r\n        computed: {\r\n            ...mapState(['userProfile', 'currentUser', 'posts', 'hiddenPosts', 'popularCommunities'])\r\n        },\r\n        methods: {\r\n            navigateToCommunity(link) {\r\n                this.$router.push(`/community/${link}`)\r\n            },\r\n            register() {\r\n                this.$router.push('/registration')\r\n            },\r\n            createPost() {\r\n                fb.postsCollection.add({\r\n                    createdOn: new Date(),\r\n                    content: this.post.content,\r\n                    userId: this.currentUser.uid,\r\n                    userName: this.userProfile.name,\r\n                    comments: 0,\r\n                    likes: 0\r\n                }).then(ref => {\r\n                    this.post.content = ''\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            showNewPosts() {\r\n                let updatedPostsArray = this.hiddenPosts.concat(this.posts)\r\n                // clear hiddenPosts array and update posts array\r\n                this.$store.commit('setHiddenPosts', null)\r\n                this.$store.commit('setPosts', updatedPostsArray)\r\n            },\r\n            openCommentModal(post) {\r\n                this.comment.postId = post.id\r\n                this.comment.userId = post.userId\r\n                this.comment.postComments = post.comments\r\n                this.showCommentModal = true\r\n            },\r\n            closeCommentModal() {\r\n                this.comment.postId = ''\r\n                this.comment.userId = ''\r\n                this.comment.content = ''\r\n                this.showCommentModal = false\r\n            },\r\n            addComment() {\r\n                let postId = this.comment.postId\r\n                let postComments = this.comment.postComments\r\n\r\n                fb.commentsCollection.add({\r\n                    createdOn: new Date(),\r\n                    content: this.comment.content,\r\n                    postId: postId,\r\n                    userId: this.currentUser.uid,\r\n                    userName: this.userProfile.name\r\n                }).then(doc => {\r\n                    fb.postsCollection.doc(postId).update({\r\n                        comments: postComments + 1\r\n                    }).then(() => {\r\n                        this.closeCommentModal()\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            likePost(postId, postLikes) {\r\n                let docId = `${this.currentUser.uid}_${postId}`\r\n\r\n                fb.likesCollection.doc(docId).get().then(doc => {\r\n                    if (doc.exists) { return }\r\n\r\n                    fb.likesCollection.doc(docId).set({\r\n                        postId: postId,\r\n                        userId: this.currentUser.uid\r\n                    }).then(() => {\r\n                        // update post likes\r\n                        fb.postsCollection.doc(postId).update({\r\n                            likes: postLikes + 1\r\n                        })\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            viewPost(post) {\r\n                fb.commentsCollection.where('postId', '==', post.id).get().then(docs => {\r\n                    let commentsArray = []\r\n\r\n                    docs.forEach(doc => {\r\n                        let comment = doc.data()\r\n                        comment.id = doc.id\r\n                        commentsArray.push(comment)\r\n                    })\r\n\r\n                    this.postComments = commentsArray\r\n                    this.fullPost = post\r\n                    this.showPostModal = true\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            closePostModal() {\r\n                this.postComments = []\r\n                this.showPostModal = false\r\n            }\r\n        },\r\n        filters: {\r\n            formatDate(val) {\r\n                if (!val) { return '-' }\r\n                let date = val.toDate()\r\n                return moment(date).fromNow()\r\n            },\r\n            trimLength(val) {\r\n                if (val.length < 200) { return val }\r\n                return `${val.substring(0, 200)}...`\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"]}]}